
/* included by hwsdl_event.c */

#define SDLK_TBLI_FROM_SCAN(i) ((i) & (~SDLK_SCANCODE_MASK))

static inline uint32_t mod_xlat(SDL_Keymod smod)
{
    uint32_t mod = 0;
    if (smod & KMOD_SHIFT) { mod |= MOO_MOD_SHIFT; }
    if (smod & KMOD_ALT) { mod |= MOO_MOD_ALT; }
    if (smod & KMOD_CTRL) { mod |= MOO_MOD_CTRL; }
    return mod;
}

static const mookey_t key_xlat_key[0x80] = {
    [SDLK_BACKSPACE] = MOO_KEY_BACKSPACE,
    [SDLK_TAB] = MOO_KEY_TAB,
    [SDLK_RETURN] = MOO_KEY_RETURN,
    [SDLK_ESCAPE] = MOO_KEY_ESCAPE,
    [SDLK_SPACE] = MOO_KEY_SPACE,
    [SDLK_EXCLAIM] = MOO_KEY_EXCLAIM,
    [SDLK_QUOTEDBL] = MOO_KEY_QUOTEDBL,
    [SDLK_HASH] = MOO_KEY_HASH,
    [SDLK_DOLLAR] = MOO_KEY_DOLLAR,
    [SDLK_AMPERSAND] = MOO_KEY_AMPERSAND,
    [SDLK_QUOTE] = MOO_KEY_QUOTE,
    [SDLK_LEFTPAREN] = MOO_KEY_LEFTPAREN,
    [SDLK_RIGHTPAREN] = MOO_KEY_RIGHTPAREN,
    [SDLK_ASTERISK] = MOO_KEY_ASTERISK,
    [SDLK_PLUS] = MOO_KEY_PLUS,
    [SDLK_COMMA] = MOO_KEY_COMMA,
    [SDLK_MINUS] = MOO_KEY_MINUS,
    [SDLK_PERIOD] = MOO_KEY_PERIOD,
    [SDLK_SLASH] = MOO_KEY_SLASH,
    [SDLK_0] = MOO_KEY_0,
    [SDLK_1] = MOO_KEY_1,
    [SDLK_2] = MOO_KEY_2,
    [SDLK_3] = MOO_KEY_3,
    [SDLK_4] = MOO_KEY_4,
    [SDLK_5] = MOO_KEY_5,
    [SDLK_6] = MOO_KEY_6,
    [SDLK_7] = MOO_KEY_7,
    [SDLK_8] = MOO_KEY_8,
    [SDLK_9] = MOO_KEY_9,
    [SDLK_COLON] = MOO_KEY_COLON,
    [SDLK_SEMICOLON] = MOO_KEY_SEMICOLON,
    [SDLK_LESS] = MOO_KEY_LESS,
    [SDLK_EQUALS] = MOO_KEY_EQUALS,
    [SDLK_GREATER] = MOO_KEY_GREATER,
    [SDLK_QUESTION] = MOO_KEY_QUESTION,
    [SDLK_AT] = MOO_KEY_AT,
    [SDLK_LEFTBRACKET] = MOO_KEY_LEFTBRACKET,
    [SDLK_BACKSLASH] = MOO_KEY_BACKSLASH,
    [SDLK_RIGHTBRACKET] = MOO_KEY_RIGHTBRACKET,
    [SDLK_CARET] = MOO_KEY_CARET,
    [SDLK_UNDERSCORE] = MOO_KEY_UNDERSCORE,
    [SDLK_BACKQUOTE] = MOO_KEY_BACKQUOTE,
    [SDLK_a] = MOO_KEY_a,
    [SDLK_b] = MOO_KEY_b,
    [SDLK_c] = MOO_KEY_c,
    [SDLK_d] = MOO_KEY_d,
    [SDLK_e] = MOO_KEY_e,
    [SDLK_f] = MOO_KEY_f,
    [SDLK_g] = MOO_KEY_g,
    [SDLK_h] = MOO_KEY_h,
    [SDLK_i] = MOO_KEY_i,
    [SDLK_j] = MOO_KEY_j,
    [SDLK_k] = MOO_KEY_k,
    [SDLK_l] = MOO_KEY_l,
    [SDLK_m] = MOO_KEY_m,
    [SDLK_n] = MOO_KEY_n,
    [SDLK_o] = MOO_KEY_o,
    [SDLK_p] = MOO_KEY_p,
    [SDLK_q] = MOO_KEY_q,
    [SDLK_r] = MOO_KEY_r,
    [SDLK_s] = MOO_KEY_s,
    [SDLK_t] = MOO_KEY_t,
    [SDLK_u] = MOO_KEY_u,
    [SDLK_v] = MOO_KEY_v,
    [SDLK_w] = MOO_KEY_w,
    [SDLK_x] = MOO_KEY_x,
    [SDLK_y] = MOO_KEY_y,
    [SDLK_z] = MOO_KEY_z,
};

static const mookey_t key_xlat_scan[SDL_NUM_SCANCODES] = {

    [SDLK_TBLI_FROM_SCAN(SDLK_CAPSLOCK)] = MOO_KEY_CAPSLOCK,

    [SDLK_TBLI_FROM_SCAN(SDLK_F1)] = MOO_KEY_F1,
    [SDLK_TBLI_FROM_SCAN(SDLK_F2)] = MOO_KEY_F2,
    [SDLK_TBLI_FROM_SCAN(SDLK_F3)] = MOO_KEY_F3,
    [SDLK_TBLI_FROM_SCAN(SDLK_F4)] = MOO_KEY_F4,
    [SDLK_TBLI_FROM_SCAN(SDLK_F5)] = MOO_KEY_F5,
    [SDLK_TBLI_FROM_SCAN(SDLK_F6)] = MOO_KEY_F6,
    [SDLK_TBLI_FROM_SCAN(SDLK_F7)] = MOO_KEY_F7,
    [SDLK_TBLI_FROM_SCAN(SDLK_F8)] = MOO_KEY_F8,
    [SDLK_TBLI_FROM_SCAN(SDLK_F9)] = MOO_KEY_F9,
    [SDLK_TBLI_FROM_SCAN(SDLK_F10)] = MOO_KEY_F10,
    [SDLK_TBLI_FROM_SCAN(SDLK_F11)] = MOO_KEY_F11,
    [SDLK_TBLI_FROM_SCAN(SDLK_F12)] = MOO_KEY_F12,

    [SDLK_TBLI_FROM_SCAN(SDLK_SCROLLLOCK)] = MOO_KEY_SCROLLOCK,
    [SDLK_TBLI_FROM_SCAN(SDLK_PAUSE)] = MOO_KEY_PAUSE,
    [SDLK_TBLI_FROM_SCAN(SDLK_INSERT)] = MOO_KEY_INSERT,
    [SDLK_TBLI_FROM_SCAN(SDLK_HOME)] = MOO_KEY_HOME,
    [SDLK_TBLI_FROM_SCAN(SDLK_PAGEUP)] = MOO_KEY_PAGEUP,
    [SDLK_TBLI_FROM_SCAN(SDLK_DELETE)] = MOO_KEY_DELETE,
    [SDLK_TBLI_FROM_SCAN(SDLK_END)] = MOO_KEY_END,
    [SDLK_TBLI_FROM_SCAN(SDLK_PAGEDOWN)] = MOO_KEY_PAGEDOWN,
    [SDLK_TBLI_FROM_SCAN(SDLK_RIGHT)] = MOO_KEY_RIGHT,
    [SDLK_TBLI_FROM_SCAN(SDLK_LEFT)] = MOO_KEY_LEFT,
    [SDLK_TBLI_FROM_SCAN(SDLK_DOWN)] = MOO_KEY_DOWN,
    [SDLK_TBLI_FROM_SCAN(SDLK_UP)] = MOO_KEY_UP,

    [SDLK_TBLI_FROM_SCAN(SDLK_CLEAR)] = MOO_KEY_CLEAR,

    [SDLK_TBLI_FROM_SCAN(SDLK_F13)] = MOO_KEY_F13,
    [SDLK_TBLI_FROM_SCAN(SDLK_F14)] = MOO_KEY_F14,
    [SDLK_TBLI_FROM_SCAN(SDLK_F15)] = MOO_KEY_F15,

    [SDLK_TBLI_FROM_SCAN(SDLK_KP_0)] = MOO_KEY_KP0,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_1)] = MOO_KEY_KP1,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_2)] = MOO_KEY_KP2,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_3)] = MOO_KEY_KP3,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_4)] = MOO_KEY_KP4,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_5)] = MOO_KEY_KP5,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_6)] = MOO_KEY_KP6,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_7)] = MOO_KEY_KP7,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_8)] = MOO_KEY_KP8,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_9)] = MOO_KEY_KP9,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_PERIOD)] = MOO_KEY_KP_PERIOD,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_DIVIDE)] = MOO_KEY_KP_DIVIDE,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_MULTIPLY)] = MOO_KEY_KP_MULTIPLY,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_MINUS)] = MOO_KEY_KP_MINUS,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_PLUS)] = MOO_KEY_KP_PLUS,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_ENTER)] = MOO_KEY_KP_ENTER,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_EQUALS)] = MOO_KEY_KP_EQUALS,
    [SDLK_TBLI_FROM_SCAN(SDLK_NUMLOCKCLEAR)] = MOO_KEY_NUMLOCK,
    [SDLK_TBLI_FROM_SCAN(SDLK_RSHIFT)] = MOO_KEY_RSHIFT,
    [SDLK_TBLI_FROM_SCAN(SDLK_LSHIFT)] = MOO_KEY_LSHIFT,
    [SDLK_TBLI_FROM_SCAN(SDLK_RCTRL)] = MOO_KEY_RCTRL,
    [SDLK_TBLI_FROM_SCAN(SDLK_LCTRL)] = MOO_KEY_LCTRL,
    [SDLK_TBLI_FROM_SCAN(SDLK_RALT)] = MOO_KEY_RALT,
    [SDLK_TBLI_FROM_SCAN(SDLK_LALT)] = MOO_KEY_LALT,
    [SDLK_TBLI_FROM_SCAN(SDLK_LGUI)] = MOO_KEY_LSUPER,
    [SDLK_TBLI_FROM_SCAN(SDLK_RGUI)] = MOO_KEY_RSUPER,
    [SDLK_TBLI_FROM_SCAN(SDLK_MODE)] = MOO_KEY_MODE,
    [SDLK_TBLI_FROM_SCAN(SDLK_HELP)] = MOO_KEY_HELP,
    [SDLK_TBLI_FROM_SCAN(SDLK_PRINTSCREEN)] = MOO_KEY_PRINT,
    [SDLK_TBLI_FROM_SCAN(SDLK_SYSREQ)] = MOO_KEY_SYSREQ,
    [SDLK_TBLI_FROM_SCAN(SDLK_MENU)] = MOO_KEY_MENU,
    [SDLK_TBLI_FROM_SCAN(SDLK_POWER)] = MOO_KEY_POWER,
    [SDLK_TBLI_FROM_SCAN(SDLK_UNDO)] = MOO_KEY_UNDO,
};

static const char key_xlat_char[SDL_NUM_SCANCODES] = {

    [SDLK_TBLI_FROM_SCAN(SDLK_CAPSLOCK)] = 0,

    [SDLK_TBLI_FROM_SCAN(SDLK_F1)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_F2)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_F3)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_F4)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_F5)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_F6)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_F7)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_F8)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_F9)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_F10)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_F11)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_F12)] = 0,

    [SDLK_TBLI_FROM_SCAN(SDLK_SCROLLLOCK)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_PAUSE)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_INSERT)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_HOME)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_PAGEUP)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_DELETE)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_END)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_PAGEDOWN)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_RIGHT)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_LEFT)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_DOWN)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_UP)] = 0,

    [SDLK_TBLI_FROM_SCAN(SDLK_CLEAR)] = 0,

    [SDLK_TBLI_FROM_SCAN(SDLK_F13)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_F14)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_F15)] = 0,

    [SDLK_TBLI_FROM_SCAN(SDLK_KP_0)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_1)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_2)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_3)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_4)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_5)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_6)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_7)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_8)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_9)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_PERIOD)] = SDLK_PERIOD,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_DIVIDE)] = SDLK_SLASH,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_MULTIPLY)] = SDLK_ASTERISK,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_MINUS)] = SDLK_MINUS,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_PLUS)] = SDLK_PLUS,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_ENTER)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_KP_EQUALS)] = SDLK_EQUALS,
    [SDLK_TBLI_FROM_SCAN(SDLK_NUMLOCKCLEAR)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_RSHIFT)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_LSHIFT)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_RCTRL)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_LCTRL)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_RALT)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_LALT)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_LGUI)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_RGUI)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_MODE)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_HELP)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_PRINTSCREEN)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_SYSREQ)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_MENU)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_POWER)] = 0,
    [SDLK_TBLI_FROM_SCAN(SDLK_UNDO)] = 0,
};

